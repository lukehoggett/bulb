<div ng-controller="characteristicCtrl as char">
  {{char.TYPE_COLOR}} {{char.TYPE_EFFECT}}
  <md-sidenav class="characteristics site-sidenav md-sidenav-right md-whiteframe-z2" md-component-id="characteristic" layout="column">
    <md-toolbar class="md-theme-light">
      <h1 class="md-toolbar-tools">Device/Group Settings</h1>
    </md-toolbar>
    <div class="controls">
      Type: {{char.type}}, Effect: {{char.effect}}
      <md-radio-group ng-model="char.type">
        <h3>Type</h3>
        <md-radio-button value="{{char.TYPE_COLOR}}" class="md-primary">Colour</md-radio-button>
        <md-radio-button value="{{char.TYPE_EFFECT}}" class="md-primary">Effect</md-radio-button>
      </md-radio-group>
      <div ng-if="char.type == char.TYPE_COLOR">
        <h4>
          <span ng-attr-style="width: 20px; height: 20px; display: block;border: 1px solid #333; background: rgba({{char.color.red}},{{char.color.green}},{{char.color.blue}},{{(char.color.saturation / 255).toFixed(2)}})">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
          RGBA {{char.color.red}},{{char.color.green}},{{char.color.blue}},{{(char.color.saturation / 255).toFixed(2)}}
        </h4>
        <div layout>
          <div flex="10" layout layout-align="center center">
            <span class="md-body-1">Saturation</span>
          </div>
          <md-slider flex min="0" max="255" ng-model="char.color.saturation" aria-label="saturation" id="saturation-slider" class>
          </md-slider>
          <md-input-container flex="20" layout layout-align="center center">
            <input flex type="number" ng-model="char.color.saturation" aria-label="saturation" aria-controls="saturation-slider">
          </md-input-container>
        </div>
        <div layout>
          <div flex="10" layout layout-align="center center">
            <span class="md-body-1">R</span>
          </div>
          <md-slider flex min="0" max="255" ng-model="char.color.red" aria-label="red" id="red-slider" class>
          </md-slider>
          <md-input-container flex="20" layout layout-align="center center">
            <input flex type="number" ng-model="char.color.red" aria-label="red" aria-controls="red-slider">
          </md-input-container>
        </div>
        <div layout>
          <div flex="10" layout layout-align="center center">
            <span class="md-body-1">G</span>
          </div>
          <md-slider flex ng-model="char.color.green" min="0" max="255" aria-label="green" id="green-slider">
          </md-slider>
          <md-input-container flex="20" layout layout-align="center center">
            <input flex type="number" ng-model="char.color.green" aria-label="green" aria-controls="green-slider">
          </md-input-container>
        </div>
        <div layout>
          <div flex="10" layout layout-align="center center">
            <span class="md-body-1">B</span>
          </div>
          <md-slider flex ng-model="char.color.blue" min="0" max="255" aria-label="blue" id="blue-slider">
          </md-slider>
          <md-input-container flex="20" layout layout-align="center center">
            <input flex type="number" ng-model="char.color.blue" aria-label="blue" aria-controls="blue-slider">
          </md-input-container>
        </div>
      </div>
      <div ng-if="char.type == char.TYPE_EFFECT">
        <md-radio-group ng-model="char.effect.mode" ng-if="char.type == 'char.TYPE_EFFECT'">
          <h3>Effect</h3>
          <md-radio-button value="01" class="md-primary" >Fade</md-radio-button>
          <md-radio-button value="02">Jump RGB (rainbow)</md-radio-button>
          <md-radio-button value="03">Fade RGB (rainbow)</md-radio-button>
          <md-radio-button value="04">Candle Effect</md-radio-button>
        </md-radio-group>
        
        <h4>
          <span ng-attr-style="width: 20px; height: 20px; display: block;border: 1px solid #333; background: rgba({{char.effect.red}},{{char.effect.green}},{{char.effect.blue}},{{(char.effect.saturation / 255).toFixed(2)}})">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
          RGBA {{char.effect.red}},{{char.effect.green}},{{char.effect.blue}},{{(char.effect.saturation / 255).toFixed(2)}}
        </h4>
        <div layout>
          <div flex="10" layout layout-align="center center">
            <span class="md-body-1">Saturation</span>
          </div>
          <md-slider flex min="0" max="255" ng-model="char.effect.saturation" aria-label="saturation" id="saturation-slider" class>
          </md-slider>
          <md-input-container flex="20" layout layout-align="center center">
            <input flex type="number" ng-model="char.effect.saturation" aria-label="saturation" aria-controls="saturation-slider">
          </md-input-container>
        </div>
        <div layout>
          <div flex="10" layout layout-align="center center">
            <span class="md-body-1">R</span>
          </div>
          <md-slider flex min="0" max="255" ng-model="char.effect.red" aria-label="red" id="red-slider" class>
          </md-slider>
          <md-input-container flex="20" layout layout-align="center center">
            <input flex type="number" ng-model="char.effect.red" aria-label="red" aria-controls="red-slider">
          </md-input-container>
        </div>
        <div layout>
          <div flex="10" layout layout-align="center center">
            <span class="md-body-1">G</span>
          </div>
          <md-slider flex ng-model="char.effect.green" min="0" max="255" aria-label="green" id="green-slider">
          </md-slider>
          <md-input-container flex="20" layout layout-align="center center">
            <input flex ng-model="char.effect.green" type="number"  aria-label="green" aria-controls="green-slider">
          </md-input-container>
        </div>
        <div layout>
          <div flex="10" layout layout-align="center center">
            <span class="md-body-1">B</span>
          </div>
          <md-slider flex ng-model="char.effect.blue" min="0" max="255" aria-label="blue" id="blue-slider">
          </md-slider>
          <md-input-container flex="20" layout layout-align="center center">
            <input flex type="number" ng-model="char.effect.blue" aria-label="blue" aria-controls="blue-slider">
          </md-input-container>
        </div>
        <h4>Speed</h4>
        <div layout>
          <div flex="20" layout layout-align="center center">
            <span class="md-body-1">Speed</span>
          </div>
          <md-slider flex min="0" max="20" ng-model="char.effect.speed" aria-label="speed" id="speed-slider" class>
          </md-slider>
          <md-input-container flex="20" layout layout-align="center center">
            <input flex type="number" ng-model="char.effect.speed" aria-label="speed" aria-controls="speed-slider">
          </md-input-container>
        </div>
      </div>
    </div>
    <md-button ng-click="char.save(char)" class="md-raised md-primary">Save</md-button>
    <!-- <md-button ng-click="app.togglePane()">
      Toggle
    </md-button> -->
  </md-sidenav>
</div>
